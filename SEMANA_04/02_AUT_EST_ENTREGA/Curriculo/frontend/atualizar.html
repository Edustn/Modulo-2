<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width" />
    <title>CRUD</title>
</head>
<h1>Atualização de Usuário</h1>

<form name="form1" method="post" action="/atualizar">


    ID: <input type="text" name="formacao_ID" id="formacao_ID" value="" required>
    <br>
    TIPO de Formacao: <input name="tipo_formacao" id="tipo_formacao" value="" required>
    <br>
    ID_FK: <input id="pessoa_ID" name="pessoa_ID" id="pessoa_ID" required> 
    <!-- placeholder="11-12345-6789" pattern="[0-9]{2}-[0-9]{5}-[0-9]{4}" required -->
    <br>

    <input type="submit" value="ATUALIZAR">
</form>

<script>
    let url = new URL(window.location.href);
    let params = url.searchParams;
    url = '/pegarDados?formacao_ID=' + url.searchParams.get("formacao_ID");

    fetch(url)
        .then((response) => {
            return response.json();
        })
        .then((data) => {
            let usuarios = data;

            usuarios.map(function (usuario) {
                document.getElementById('formacao_ID').value = usuario.formacao_ID;
                document.getElementById('tipo_formacao').value = usuario.tipo_formacao;
                document.getElementById('pessoa_ID').value = usuario.pessoa_ID;
                // document.getElementById('telefone').value = usuario.telefone;
            });
            alert(response.json());
        })
        .catch(function (error) {
            console.log(error);
        });
</script>
</body>

</html>